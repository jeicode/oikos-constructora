import{a as h}from"./chunk-BCAWV3EG.js";import{a as g}from"./chunk-XOQTU3U2.js";import{p as m}from"./chunk-FBJGKUSD.js";import{d as n,ea as s,pa as f,qa as u,s as l}from"./chunk-XI7NKT5T.js";var v=h.base_url,S=(()=>{let o=class o{constructor(t){this._http=t,this.configService=u(g)}getContentHtmlExternalPage(t){return n(this,null,function*(){let r=`${v}api/v1/getContentHtmlExternalPage?urlPage=${t}`;return l(this._http.get(r)).then().catch(e=>(console.warn(e),!1))})}getCopPriceByUsd(){return n(this,null,function*(){if(this.configService.isBrowser()){let e="https://www.google.com/finance/quote/USD-COP?sa=X&ved=2ahUKEwiBpd_lo5L7AhV1VTABHSOsBHgQmY0JegQIBhAc",{html:a}=yield this.getContentHtmlExternalPage(e);if(a){var t=new DOMParser,r=t.parseFromString(a,"text/html");if(r){let c=r.querySelector(".fxKbKc")?.textContent;if(c){let p=c.replace(/,/g,"");return Number(p)}}}}return null})}convertCopToUsdProjects(t){return n(this,null,function*(){let r=yield this.getCopPriceByUsd();return r&&t?.length>0&&t.length>0?t.map(e=>(e?.valor_proyecto&&(e.dollar_value=Number(e?.valor_proyecto)/r,e.dollar_value=Math.trunc(e.dollar_value)),e)):null})}};o.\u0275fac=function(r){return new(r||o)(f(m))},o.\u0275prov=s({token:o,factory:o.\u0275fac,providedIn:"root"});let i=o;return i})();export{S as a};
