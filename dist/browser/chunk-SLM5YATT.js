import{b as N,c as d,d as B,e as V,g as q,i as T,j as U,o as D,p as A,q as G,r as L,s as R}from"./chunk-YFKNUQK4.js";import{a as W}from"./chunk-BCAWV3EG.js";import{a as S}from"./chunk-JKVWIUL6.js";import{a as z,b as I}from"./chunk-BO5FIMJW.js";import{c as k,e as j,m as E}from"./chunk-LYLQVF2K.js";import{Ab as o,Bb as e,Cb as _,Fb as C,Gb as f,Hb as O,Kb as M,Qa as u,Sb as c,Tb as P,Ub as y,Va as r,Wa as m,Xb as F,Y as h,Zb as s,aa as x,ba as w,lb as v,qb as p}from"./chunk-W7U7TAQF.js";function Y(a,l){if(a&1){let Z=C();o(0,"div",23),f("click",function(){x(Z);let i=O();return w(i.modalIsOpen=!i.modalIsOpen)}),o(1,"div",24),_(2,"i",25),e()()}}var H=a=>({active:a}),b=a=>({"error-form-field":a}),at=(()=>{let l=class l{constructor(n,i,t,g){this.fb=n,this.formService=i,this.configService=t,this.projectService=g,this.BASE_URL=W.imagenes_url,this.project=new z,this.showFloatingButton=!1,this.idBtnWpp="",this.modalIsOpen=!1,this.showErrors=!1,this.contactWppForm=this.fb.group({name:["",d.required],email:["",[d.required,d.pattern(G)]],phone:["",[d.required,d.pattern(L)]],project_id:[""]})}ngOnDestroy(){this.eventsSubscription.unsubscribe()}ngOnInit(){console.log('%csrc/app/shared/components/wpp-modal-project/wpp-modal-project.component.ts:47 "object"',"color: #007acc;","object"),this.eventsSubscription=this.modalEvent.subscribe(n=>this.setOpenModalValue(n?.openModal))}setOpenModalValue(n){n!==void 0&&(this.modalIsOpen=n)}sendContactUserWpp(){this.contactWppForm.valid?(this.contactWppForm.patchValue({project_id:this.project.id}),this.projectService.createContactWppProject(this.contactWppForm.getRawValue()),this.redirectToWppLink(),this.contactWppForm.reset()):this.showErrors=!0}hasErrorsFieldForm(n){let i=this.contactWppForm;return this.formService.hasErrorsFieldForm(i,n,this.showErrors)}redirectToWppLink(){this.configService.isBrowser()&&(this.project.origin=="home"?window.open(this.project.api_wsp,"_blank"):window.open(this.project.api_wsp_flotante,"_blank"))}};l.\u0275fac=function(i){return new(i||l)(m(D),m(R),m(S),m(I))},l.\u0275cmp=h({type:l,selectors:[["app-wpp-modal-project"]],inputs:{project:"project",modalEvent:"modalEvent",showFloatingButton:"showFloatingButton",idBtnWpp:"idBtnWpp"},standalone:!0,features:[F],decls:37,vars:22,consts:[[1,"layer_negro_wa_form",3,"ngClass"],[1,"cont_gen_form_wa",3,"ngClass"],[1,"cont_top_form_wa"],[1,"cont_gen_prof_a_form"],[1,"img_pr_wa_form"],[1,"lazyload",3,"src"],[1,"cont_nom_est_wa_form"],[1,"nomb_wa_fl"],[1,"estado_wa_form"],[1,"ic_cerrar_wa_form",3,"click"],[1,"cont_gen_s_chat","validateForm",3,"formGroup"],[1,"cont_s_chat_conv_bl"],[1,"s_chat_conv_bl"],[1,"cont_s_chat_conv_ver"],[1,"s_chat_conv_ver",3,"ngClass"],[1,"cont_etq_campo_wa_form"],[1,"etq_wa_form"],["formControlName","name","type","text","name","name","id","inp_name_wa_form",1,"campo_wa_form"],["formControlName","email","type","email","name","email","id","inp_email_wa_form",1,"campo_wa_form"],[1,"cont_s_chat_conv_ver","cnt_tel"],["type","tel","name","telefono","formControlName","phone","id","inp_tel_wa_form",1,"campo_wa_form"],["type","submit",1,"btn_form_wa","disabled",3,"disabled","id","click"],["class","cont_gen_wa_form_flt c-pointer",3,"click",4,"ngIf"],[1,"cont_gen_wa_form_flt","c-pointer",3,"click"],[1,"btn_wa_flt"],[1,"fab","fa-whatsapp"]],template:function(i,t){i&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),_(5,"img",5),e(),o(6,"div",6)(7,"div",7),c(8),e(),o(9,"div",8),c(10," en linea "),e()()(),o(11,"span",9),f("click",function(){return t.setOpenModalValue(!1)}),e()(),o(12,"form",10)(13,"div",11)(14,"div",12),c(15),e()(),o(16,"div",13)(17,"div",14)(18,"div",15)(19,"label",16),c(20,"Nombre:*"),e(),_(21,"input",17),e()()(),o(22,"div",13)(23,"div",14)(24,"div",15)(25,"label",16),c(26,"Email:*"),e(),_(27,"input",18),e()()(),o(28,"div",19)(29,"div",14)(30,"div",15)(31,"label",16),c(32,"Celular:*"),e(),_(33,"input",20),e()()(),o(34,"button",21),f("click",function(){return t.sendContactUserWpp()}),c(35," Iniciar conversaci\xF3n "),e()()()(),v(36,Y,3,0,"div",22)),i&2&&(p("ngClass",s(12,H,t.modalIsOpen)),r(),p("ngClass",s(14,H,t.modalIsOpen)),r(4),M("src",t.BASE_URL+t.project.logo_proyecto,u),r(3),P(t.project.titulo_proyecto),r(4),p("formGroup",t.contactWppForm),r(3),y(" ",t.project.msg_wsp_flotante," "),r(2),p("ngClass",s(16,b,t.hasErrorsFieldForm("name"))),r(6),p("ngClass",s(18,b,t.hasErrorsFieldForm("email"))),r(6),p("ngClass",s(20,b,t.hasErrorsFieldForm("phone"))),r(5),p("disabled",t.contactWppForm.invalid)("id",t.idBtnWpp?t.idBtnWpp:"btn_form_wa_"+t.project.titulo_proyecto_wsp),r(2),p("ngIf",t.showFloatingButton))},dependencies:[E,k,j,A,q,N,B,V,T,U],styles:['.error-form-field[_ngcontent-%COMP%]{border:solid 2px rgb(213,34,34)}.layer_negro_wa_form[_ngcontent-%COMP%]{width:100%;height:100%;position:fixed;top:0;left:0;background:#000000b3;z-index:-3;opacity:0;transition:all .3s}.layer_negro_wa_form.active[_ngcontent-%COMP%]{opacity:1;z-index:30}.cont_gen_form_wa[_ngcontent-%COMP%]{width:350px;position:absolute;bottom:-800px;right:10px;background:url("./media/bg_form_wa-WPNZZYUZ.webp") center #e5e5e5;overflow:hidden;border-radius:7px;box-shadow:0 4px 4px #00000040;font-family:Helvetica,Arial,sans-serif;z-index:1;opacity:0;transition:all .3s}.cont_gen_form_wa.active[_ngcontent-%COMP%]{bottom:70px;opacity:1}.cont_gen_form_wa[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-family:Helvetica,Arial,sans-serif}.cont_top_form_wa[_ngcontent-%COMP%]{width:100%;background:#fafafa;border-radius:7px 7px 0 0;border-bottom:1px solid #bcbcbc;box-sizing:border-box;padding:4px 8px;display:flex;display:-webkit-flex;justify-content:space-between;-webkit-justify-content:space-between}.cont_gen_prof_a_form[_ngcontent-%COMP%]{width:80%;display:flex;display:-webkit-flex}.img_pr_wa_form[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:70%;max-height:25px}.cont_nom_est_wa_form[_ngcontent-%COMP%]{box-sizing:border-box;padding-left:8px;text-align:left;margin-top:4px}.nomb_wa_fl[_ngcontent-%COMP%]{width:100%;font-size:11px;font-weight:700;color:#2a2f32}.estado_wa_form[_ngcontent-%COMP%]{width:100%;font-size:10px;color:#a0a0a0}.ic_cerrar_wa_form[_ngcontent-%COMP%]{color:#2a2f32;display:block;background:url("./media/cerrar_form_wa-N7OHUEFY.svg") no-repeat center;width:35px;height:35px;background-size:40% auto;cursor:pointer}.cont_gen_s_chat[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:16px 8px;position:relative;display:inline-block}.s_chat_conv_bl[_ngcontent-%COMP%]{width:100%;display:inline-block;background:#fff;box-sizing:border-box;padding:8px;font-size:11px;text-align:left;position:relative;border-radius:4px 0 0}.s_chat_conv_bl[_ngcontent-%COMP%]:after{content:"";width:0;height:0;border-top:10px solid transparent;border-right:10px solid #fff;position:absolute;left:-10px;bottom:0}.s_chat_conv_bl[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:14px}.cont_s_chat_conv_bl[_ngcontent-%COMP%]{width:90%;max-width:266px;float:left;text-align:right;box-sizing:border-box;padding-left:10px;overflow:hidden;border-radius:4px;border-bottom:1px solid #ccc;margin-bottom:20px}.cont_s_chat_conv_ver[_ngcontent-%COMP%]{width:90%;max-width:266px;float:right;text-align:right;box-sizing:border-box;padding-right:10px;border-radius:4px;border-bottom:1px solid #ccc;margin-bottom:8px}.cont_s_chat_conv_ver.cnt_tel[_ngcontent-%COMP%]{overflow:visible}.cont_s_chat_conv_ver[_ngcontent-%COMP%]   .formError[_ngcontent-%COMP%]{left:0!important}.s_chat_conv_ver[_ngcontent-%COMP%]{width:100%;display:inline-block;background:#dcf8c6;box-sizing:border-box;padding:8px;font-size:11px;text-align:left;position:relative;border-radius:4px 0 4px 4px}.s_chat_conv_ver[_ngcontent-%COMP%]:after{content:"";width:0;height:0;border-bottom:10px solid transparent;border-left:10px solid #DCF8C6;position:absolute;right:-10px;top:0}.cont_etq_campo_wa_form[_ngcontent-%COMP%]{width:100%;display:flex;display:-webkit-flex;align-items:center;-webkit-align-items:center}.etq_wa_form[_ngcontent-%COMP%]{font-size:11px;color:#737373;text-align:left}.campo_wa_form[_ngcontent-%COMP%]{flex-grow:1;font-size:12px;color:#333;box-sizing:border-box;padding:0 8px;border:none;background:none}.btn_form_wa[_ngcontent-%COMP%]{width:180px;font-size:12px;color:#fff;font-weight:700;margin:10px 10px 40px 0;background:#0b6156;border-radius:4px;float:right;padding:10px 0;cursor:pointer;display:flex;justify-content:center}.btn_form_wa[_ngcontent-%COMP%]:hover{background:#04433b}.btn_form_wa[_ngcontent-%COMP%]:disabled{background-color:#ccc}.cont_gen_wa_form_flt[_ngcontent-%COMP%]{width:45px;height:45px;position:fixed;bottom:25px;left:16px;right:40px;z-index:31}.btn_wa_flt[_ngcontent-%COMP%]{width:70px;height:70px;background:#00c033;color:#fff;border-radius:50%;line-height:56px;position:fixed;bottom:5%;right:2%;font-size:25px;box-shadow:0 4px 14px #00000040;z-index:100;text-align:center}.btn_wa_flt[_ngcontent-%COMP%]   .fab[_ngcontent-%COMP%]{font-size:42px;line-height:70px;position:relative}@media screen and (max-width:480px){.cont_gen_form_wa[_ngcontent-%COMP%]{width:95%;position:fixed;margin:0}.cont_gen_form_wa.active[_ngcontent-%COMP%]{bottom:10%;left:2.5%}.btn_wa_flt[_ngcontent-%COMP%]{width:45px;height:45px;bottom:5%;line-height:45px}.btn_wa_flt[_ngcontent-%COMP%]   .fab[_ngcontent-%COMP%]{font-size:22px;line-height:45px;display:inline-block}.btn_wa_flt[_ngcontent-%COMP%]{visibility:hidden}.img_pr_wa_form[_ngcontent-%COMP%]{min-width:50px;width:50px;height:50px}}']});let a=l;return a})();export{at as a};
