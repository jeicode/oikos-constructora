{"version":3,"file":"src_app_modules_legales_legales_module_ts.js","mappings":"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","sources":["./src/app/core/guards/legales.guard.ts","./src/app/modules/legales/legales-routing.module.ts","./src/app/modules/legales/legales.module.ts","./src/app/modules/legales/pages/legales/legales.component.ts","./src/app/modules/legales/pages/legales/legales.component.html","./src/app/shared/services/functions/seo.service.ts"],"sourcesContent":["import { Injectable } from \"@angular/core\";\nimport { ActivatedRouteSnapshot, CanActivate, RouterStateSnapshot, Router } from '@angular/router';\nimport { PageService } from \"src/app/shared/services/api/page.service\";\nimport { SeoService } from \"src/app/shared/services/functions/seo.service\";\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class LegalesGuard implements CanActivate {\n    constructor(private pageService: PageService, private router: Router, private seoService: SeoService) { }\n\n    async canActivate(\n        _route: ActivatedRouteSnapshot,\n        _state: RouterStateSnapshot):Promise<boolean> {\n        const slug = _route.params['slug']\n\n        const page = await this.pageService.getSeoContentPage(slug);\n\n        if(page?.friendly_url!=null){\n            this.pageService.currentPage = page\n            this.seoService.setUpMetaTags(page)\n            return true;\n        }\n\n        this.router.navigateByUrl('404', { skipLocationChange: true });\n        return false;\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { LegalesGuard } from 'src/app/core/guards/legales.guard';\nimport { LegalesComponent } from './pages/legales/legales.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LegalesComponent,\n    canActivate: [LegalesGuard]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class LegalesRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { LegalesRoutingModule } from './legales-routing.module';\nimport { LegalesComponent } from './pages/legales/legales.component';\nimport { HttpClientModule } from '@angular/common/http';\nimport { ComponentSharedModule } from 'src/app/shared/components/components.module';\n\n\n@NgModule({\n  declarations: [\n    LegalesComponent\n  ],\n  imports: [\n    CommonModule,\n    LegalesRoutingModule,\n    HttpClientModule,\n    ComponentSharedModule\n  ]\n})\nexport class LegalesModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { PageService } from 'src/app/shared/services/api/page.service';\nimport { environment } from 'src/environments/environment';\nimport { DOCUMENT } from '@angular/common';\nimport { NavigationEnd, Router, ActivatedRoute } from '@angular/router';\nimport { Subscription } from 'rxjs';\nimport { ConfigService } from 'src/app/shared/services/functions/config.service';\n\n@Component({\n  selector: 'app-legales',\n  templateUrl: './legales.component.html'\n})\nexport class LegalesComponent implements OnInit {\n\n  data                  : any = [];\n  imagenes              : any = [];\n  imagen_prin           : any = [];\n  slug                  : string | null;\n  suscribeListenRouter  : Subscription;\n\n  constructor(private pageService: PageService, private router: Router, private configServ: ConfigService, private activateRoute: ActivatedRoute) {\n    this.slug = this.activateRoute.snapshot.paramMap.get('slug');\n    this.suscribeListenRouter = this.router.events.subscribe((event:any) => {\n      if (event instanceof NavigationEnd  ) {\n        this.slug = this.activateRoute.snapshot.paramMap.get('slug');\n        this.configServ.goUpPage()\n        this.getData();\n      }\n    });\n  }\n\n  ngOnInit(): void {\n    this.init();\n  }\n\n  async init(){\n    const tasks = [\n      () => this.getData()\n    ]\n\n    for (const task of tasks) {\n      await task();\n    }\n  }\n\n  async getData(){\n    this.data = await this.pageService.getPageContent(this.slug);\n  }\n}\n","<div class=\"cnt_central\" bis_skin_checked=\"1\">\n    <div class=\"contenidopol\" bis_skin_checked=\"1\">\n        <h1 class=\"title\">\n        {{data['titulo_legales']}}\n        </h1>\n        <div class=\"textopol\" bis_skin_checked=\"1\" [innerHTML]=\"data['texto_legales']\"></div>\n    </div>\n</div>","import { DOCUMENT } from '@angular/common';\nimport { Inject, Injectable } from '@angular/core';\nimport { Meta, Title } from '@angular/platform-browser';\nimport { SeoPage } from 'src/app/core/models/seo-page.model';\nimport { PageService } from '../api/page.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SeoService {\n\n  constructor(private meta: Meta,\n              private pageService:PageService,\n              @Inject(DOCUMENT) private doc: Document,\n              private titlePage: Title) { }\n\n  updateCanonicalUrl(canonical:string = \"\") {\n\n    let element: HTMLLinkElement | null = this.doc.querySelector(`link[rel='canonical']`) || null\n\n    if (!element) { // create canonical element\n      element = this.doc.createElement('link');\n    }\n\n    element.setAttribute('rel','canonical')\n    canonical ? element.setAttribute('href',canonical) : element.setAttribute('href', this.doc.URL);\n    this.doc.head.appendChild(element);\n  }\n\n  setUpMetaTags(seoPage:SeoPage) {\n    if (seoPage){\n      var canonical = '';\n      if(seoPage.canonical!=''){\n        canonical = seoPage.canonical;\n      }\n      this.updateCanonicalUrl(canonical);\n      this.titlePage.setTitle(seoPage.title)\n      this.meta.updateTag({ name: 'description', content: seoPage.metadescription });\n      this.meta.updateTag({ name: 'robots', content: seoPage.metarobots });\n    }\n  }\n}\n"],"names":["ActivatedRouteSnapshot","RouterStateSnapshot","Router","LegalesGuard","constructor","pageService","router","seoService","canActivate","_route","_state","slug","params","page","getSeoContentPage","friendly_url","currentPage","setUpMetaTags","navigateByUrl","skipLocationChange","i0","factory","providedIn","NavigationEnd","LegalesComponent","configServ","activateRoute","snapshot","paramMap","get","suscribeListenRouter","events","subscribe","event","goUpPage","getData","ngOnInit","init","tasks","task","data","getPageContent","selectors","decls","vars","consts","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}