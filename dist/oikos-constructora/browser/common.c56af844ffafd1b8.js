"use strict";(self.webpackChunkoikos_constructora=self.webpackChunkoikos_constructora||[]).push([[592],{9924:(w,d,r)=>{r.d(d,{B:()=>b});var _=r(6895),g=r(9019),m=r(849),n=r(433),s=r(1372),o=r(8256),f=r(961),h=r(221);function x(e,p){if(1&e){const i=o.EpF();o.TgZ(0,"div",23),o.NdJ("click",function(){o.CHM(i);const a=o.oxw();return o.KtG(a.modalIsOpen=!a.modalIsOpen)}),o.TgZ(1,"div",24),o._UZ(2,"i",25),o.qZA()()}}const l=function(e){return{active:e}},c=function(e){return{"error-form-field":e}};let b=(()=>{class e{constructor(i,t,a){this.fb=i,this.formService=t,this.projectService=a,this.BASE_URL=g.N.base_url,this.project=new m.I,this.showFloatingButton=!1,this.modalIsOpen=!1,this.showErrors=!1,this.contactWppForm=this.fb.group({name:["",n.kI.required],email:["",[n.kI.required,n.kI.pattern(s.E)]],phone:["",[n.kI.required,n.kI.pattern(s.A)]],project_id:[""]})}ngOnDestroy(){this.eventsSubscription.unsubscribe()}ngOnInit(){this.eventsSubscription=this.modalEvent.subscribe(i=>this.openModal())}openModal(){this.modalIsOpen=!0}closeModal(){this.modalIsOpen=!1}sendContactUserWpp(){console.log("validando"),this.contactWppForm.valid?(this.contactWppForm.patchValue({project_id:this.project.id}),this.projectService.createContactWppProject(this.contactWppForm.getRawValue()),this.redirectToWppLink(),this.contactWppForm.reset()):this.showErrors=!0}hasErrorsFieldForm(i){return this.formService.hasErrorsFieldForm(this.contactWppForm,i,this.showErrors)}redirectToWppLink(){window.open(this.project.api_wsp,"_blank")}}return e.\u0275fac=function(i){return new(i||e)(o.Y36(n.qu),o.Y36(f.o),o.Y36(h.Y))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-wpp-modal-project"]],inputs:{project:"project",modalEvent:"modalEvent",showFloatingButton:"showFloatingButton"},standalone:!0,features:[o.jDz],decls:37,vars:21,consts:[[1,"layer_negro_wa_form",3,"ngClass"],[1,"cont_gen_form_wa",3,"ngClass"],[1,"cont_top_form_wa"],[1,"cont_gen_prof_a_form"],[1,"img_pr_wa_form"],[1,"lazyload",3,"src"],[1,"cont_nom_est_wa_form"],[1,"nomb_wa_fl"],[1,"estado_wa_form"],[1,"ic_cerrar_wa_form",3,"click"],[1,"cont_gen_s_chat","validateForm",3,"formGroup"],[1,"cont_s_chat_conv_bl"],[1,"s_chat_conv_bl"],[1,"cont_s_chat_conv_ver"],[1,"s_chat_conv_ver",3,"ngClass"],[1,"cont_etq_campo_wa_form"],[1,"etq_wa_form"],["formControlName","name","type","text","name","name","id","inp_name_wa_form",1,"campo_wa_form"],["formControlName","email","type","email","name","email","id","inp_email_wa_form",1,"campo_wa_form"],[1,"cont_s_chat_conv_ver","cnt_tel"],["type","tel","name","telefono","formControlName","phone","id","inp_tel_wa_form",1,"campo_wa_form"],["type","submit",1,"btn_form_wa",2,"border","none","text-align","center",3,"id","click"],["class","cont_gen_wa_form_flt c-pointer",3,"click",4,"ngIf"],[1,"cont_gen_wa_form_flt","c-pointer",3,"click"],[1,"btn_wa_flt"],[1,"fab","fa-whatsapp"]],template:function(i,t){1&i&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),o._UZ(5,"img",5),o.qZA(),o.TgZ(6,"div",6)(7,"div",7),o._uU(8),o.qZA(),o.TgZ(9,"div",8),o._uU(10," en linea "),o.qZA()()(),o.TgZ(11,"span",9),o.NdJ("click",function(){return t.closeModal()}),o.qZA()(),o.TgZ(12,"form",10)(13,"div",11)(14,"div",12),o._uU(15),o.qZA()(),o.TgZ(16,"div",13)(17,"div",14)(18,"div",15)(19,"label",16),o._uU(20,"Nombre:*"),o.qZA(),o._UZ(21,"input",17),o.qZA()()(),o.TgZ(22,"div",13)(23,"div",14)(24,"div",15)(25,"label",16),o._uU(26,"Email:*"),o.qZA(),o._UZ(27,"input",18),o.qZA()()(),o.TgZ(28,"div",19)(29,"div",14)(30,"div",15)(31,"label",16),o._uU(32,"Celular:*"),o.qZA(),o._UZ(33,"input",20),o.qZA()()(),o.TgZ(34,"a",21),o.NdJ("click",function(){return t.sendContactUserWpp()}),o._uU(35," Iniciar conversaci\xf3n "),o.qZA()()()(),o.YNc(36,x,3,0,"div",22)),2&i&&(o.Q6J("ngClass",o.VKq(11,l,t.modalIsOpen)),o.xp6(1),o.Q6J("ngClass",o.VKq(13,l,t.modalIsOpen)),o.xp6(4),o.s9C("src",t.BASE_URL+t.project.logo_proyecto,o.LSH),o.xp6(3),o.Oqu(t.project.titulo_proyecto),o.xp6(4),o.Q6J("formGroup",t.contactWppForm),o.xp6(3),o.hij(" ",t.project.msg_wsp_flotante," "),o.xp6(2),o.Q6J("ngClass",o.VKq(15,c,t.hasErrorsFieldForm("name"))),o.xp6(6),o.Q6J("ngClass",o.VKq(17,c,t.hasErrorsFieldForm("email"))),o.xp6(6),o.Q6J("ngClass",o.VKq(19,c,t.hasErrorsFieldForm("phone"))),o.xp6(5),o.MGl("id","btn_form_wa_",t.project.titulo_proyecto,""),o.xp6(2),o.Q6J("ngIf",t.showFloatingButton))},dependencies:[_.ez,_.mk,_.O5,n.UX,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u],styles:['.error-form-field[_ngcontent-%COMP%]{border:solid 2px rgb(213,34,34)}.layer_negro_wa_form[_ngcontent-%COMP%]{width:100%;height:100%;position:fixed;top:0;left:0;background:rgba(0,0,0,.7);z-index:-3;opacity:0;transition:all .3s}.layer_negro_wa_form.active[_ngcontent-%COMP%]{opacity:1;z-index:30}.cont_gen_form_wa[_ngcontent-%COMP%]{width:350px;position:absolute;bottom:-800px;right:10px;background:url(/assets/images/diseno/bg_form_wa.png) center #E5E5E5;overflow:hidden;border-radius:7px;box-shadow:0 4px 4px #00000040;font-family:Helvetica,Arial,sans-serif;z-index:1;opacity:0;transition:all .3s}.cont_gen_form_wa.active[_ngcontent-%COMP%]{bottom:70px;opacity:1}.cont_gen_form_wa[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-family:Helvetica,Arial,sans-serif}.cont_top_form_wa[_ngcontent-%COMP%]{width:100%;background:#FAFAFA;border-radius:7px 7px 0 0;border-bottom:1px solid #bcbcbc;box-sizing:border-box;padding:4px 8px;display:flex;display:-webkit-flex;justify-content:space-between;-webkit-justify-content:space-between}.cont_gen_prof_a_form[_ngcontent-%COMP%]{width:80%;display:flex;display:-webkit-flex}.img_pr_wa_form[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:70%;max-height:25px}.cont_nom_est_wa_form[_ngcontent-%COMP%]{box-sizing:border-box;padding-left:8px;text-align:left;margin-top:4px}.nomb_wa_fl[_ngcontent-%COMP%]{width:100%;font-size:11px;font-weight:700;color:#2a2f32}.estado_wa_form[_ngcontent-%COMP%]{width:100%;font-size:10px;color:#a0a0a0}.ic_cerrar_wa_form[_ngcontent-%COMP%]{color:#2a2f32;display:block;background:url(/assets/images/diseno/cerrar_form_wa.svg) no-repeat center;width:35px;height:35px;background-size:40% auto;cursor:pointer}.cont_gen_s_chat[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:16px 8px;position:relative;display:inline-block}.s_chat_conv_bl[_ngcontent-%COMP%]{width:100%;display:inline-block;background:#fff;box-sizing:border-box;padding:8px;font-size:11px;text-align:left;position:relative;border-radius:4px 0 0}.s_chat_conv_bl[_ngcontent-%COMP%]:after{content:"";width:0;height:0;border-top:10px solid transparent;border-right:10px solid #fff;position:absolute;left:-10px;bottom:0}.s_chat_conv_bl[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:14px}.cont_s_chat_conv_bl[_ngcontent-%COMP%]{width:90%;max-width:266px;float:left;text-align:right;box-sizing:border-box;padding-left:10px;overflow:hidden;border-radius:4px;border-bottom:1px solid #ccc;margin-bottom:20px}.cont_s_chat_conv_ver[_ngcontent-%COMP%]{width:90%;max-width:266px;float:right;text-align:right;box-sizing:border-box;padding-right:10px;border-radius:4px;border-bottom:1px solid #ccc;margin-bottom:8px}.cont_s_chat_conv_ver.cnt_tel[_ngcontent-%COMP%]{overflow:visible}.cont_s_chat_conv_ver[_ngcontent-%COMP%]   .formError[_ngcontent-%COMP%]{left:0!important}.s_chat_conv_ver[_ngcontent-%COMP%]{width:100%;display:inline-block;background:#DCF8C6;box-sizing:border-box;padding:8px;font-size:11px;text-align:left;position:relative;border-radius:4px 0 4px 4px}.s_chat_conv_ver[_ngcontent-%COMP%]:after{content:"";width:0;height:0;border-bottom:10px solid transparent;border-left:10px solid #DCF8C6;position:absolute;right:-10px;top:0}.cont_etq_campo_wa_form[_ngcontent-%COMP%]{width:100%;display:flex;display:-webkit-flex;align-items:center;-webkit-align-items:center}.etq_wa_form[_ngcontent-%COMP%]{font-size:11px;color:#737373;text-align:left}.campo_wa_form[_ngcontent-%COMP%]{flex-grow:1;font-size:12px;color:#333;box-sizing:border-box;padding:0 8px;border:none;background:none}.btn_form_wa[_ngcontent-%COMP%]{width:180px;font-size:12px;color:#fff;font-weight:700;margin:10px 10px 40px 0;background:#0B6156;border-radius:4px;float:right;padding:10px 0;cursor:pointer}.btn_form_wa[_ngcontent-%COMP%]:hover{background:#04433b}.btn_form_wa[_ngcontent-%COMP%]:disabled{background-color:#ccc}.cont_gen_wa_form_flt[_ngcontent-%COMP%]{width:45px;height:45px;position:fixed;bottom:25px;left:16px;right:40px;z-index:31}.btn_wa_flt[_ngcontent-%COMP%]{width:70px;height:70px;background:#00C033;color:#fff;border-radius:50%;line-height:56px;position:fixed;bottom:5%;right:2%;font-size:25px;box-shadow:0 4px 14px #00000040;z-index:100}.btn_wa_flt[_ngcontent-%COMP%]   .fab[_ngcontent-%COMP%]{font-size:42px;line-height:68px;position:relative;right:-17px}@media screen and (max-width:480px){.cont_gen_form_wa[_ngcontent-%COMP%]{width:95%;position:fixed;margin:0}.cont_gen_form_wa.active[_ngcontent-%COMP%]{bottom:10%;left:2.5%}.btn_wa_flt[_ngcontent-%COMP%]{width:45px;height:45px;bottom:5%;line-height:43px}.btn_wa_flt[_ngcontent-%COMP%]   .fab[_ngcontent-%COMP%]{font-size:22px;line-height:40px;height:22px;display:inline-block}}']}),e})()}}]);